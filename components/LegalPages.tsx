import React, { useEffect } from 'react';
import { X } from 'lucide-react';

interface ModalProps {
  onClose: () => void;
}

const ModalWrapper: React.FC<{ children: React.ReactNode; onClose: () => void; title: string }> = ({ children, onClose, title }) => {
  // Prevent body scroll when modal is open
  useEffect(() => {
    document.body.style.overflow = 'hidden';
    return () => {
      document.body.style.overflow = 'unset';
    };
  }, []);

  return (
    <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6">
      {/* Backdrop */}
      <div 
        className="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" 
        onClick={onClose}
      />
      
      {/* Modal Content */}
      <div className="relative w-full max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200">
        
        {/* Header */}
        <div className="flex items-center justify-between px-6 py-4 border-b border-neutral-200 bg-white z-10">
          <h2 className="font-display font-bold text-lg md:text-xl text-neutral-900">{title}</h2>
          <button 
            onClick={onClose}
            className="p-2 -mr-2 text-neutral-400 hover:text-neutral-900 transition-colors rounded-full hover:bg-neutral-100"
          >
            <X size={24} />
          </button>
        </div>

        {/* Scrollable Body */}
        <div className="flex-1 overflow-y-auto p-6 md:p-8 font-sans text-neutral-800">
          <div className="prose prose-neutral prose-sm max-w-none">
            {children}
          </div>
          
          <div className="mt-12 pt-6 border-t border-neutral-100 text-xs text-neutral-500 font-mono">
            <p>ИП Радченко Яков Яковлевич</p>
            <p>ИНН 490912773510 / ОГРН 316774600440101</p>
          </div>
        </div>

      </div>
    </div>
  );
};

export const PrivacyPolicy: React.FC<ModalProps> = ({ onClose }) => {
  return (
    <ModalWrapper onClose={onClose} title="Политика конфиденциальности">
      <h3>1. Общие положения</h3>
      <p>Настоящая политика обработки персональных данных составлена в соответствии с требованиями Федерального закона от 27.07.2006. №152-ФЗ «О персональных данных» и определяет порядок обработки персональных данных и меры по обеспечению безопасности персональных данных, предпринимаемые ИП Радченко Яков Яковлевич (далее — Оператор).</p>
      <p>1.1. Оператор ставит своей важнейшей целью и условием осуществления своей деятельности соблюдение прав и свобод человека и гражданина при обработке его персональных данных, в том числе защиты прав на неприкосновенность частной жизни, личную и семейную тайну.<br/>
      1.2. Настоящая политика Оператора в отношении обработки персональных данных (далее — Политика) применяется ко всей информации, которую Оператор может получить о посетителях веб-сайта https://etern8.tech.</p>

      <h3>2. Основные понятия</h3>
      <p>2.1. Автоматизированная обработка персональных данных — обработка персональных данных с помощью средств вычислительной техники.<br/>
      2.2. Веб-сайт — совокупность графических и информационных материалов, а также программ для ЭВМ и баз данных, обеспечивающих их доступность в сети интернет по сетевому адресу https://etern8.tech.<br/>
      2.3. Персональные данные — любая информация, относящаяся прямо или косвенно к определенному или определяемому Пользователю веб-сайта.<br/>
      2.4. Пользователь — любой посетитель веб-сайта https://etern8.tech.</p>

      <h3>3. Обработка данных</h3>
      <p>3.1. Оператор может обрабатывать следующие персональные данные Пользователя: Фамилия, имя, отчество; Электронный адрес; Номера телефонов; Ссылка на профиль в Telegram.<br/>
      3.2. Также на сайте происходит сбор и обработка обезличенных данных о посетителях (в т.ч. файлов «cookie») с помощью сервисов интернет-статистики (Яндекс Метрика и Гугл Аналитика и других).</p>

      <h3>4. Цели обработки</h3>
      <p>4.1. Цель обработки персональных данных Пользователя — информирование Пользователя посредством отправки электронных писем; предоставление доступа Пользователю к сервисам, информации и/или материалам, содержащимся на веб-сайте; уточнение деталей заказа.</p>

      <h3>5. Безопасность</h3>
      <p>Оператор обеспечивает сохранность персональных данных и принимает все возможные меры, исключающие доступ к персональным данным неуполномоченных лиц. Персональные данные Пользователя никогда, ни при каких условиях не будут переданы третьим лицам, за исключением случаев, связанных с исполнением действующего законодательства.</p>
    </ModalWrapper>
  );
};

export const Offer: React.FC<ModalProps> = ({ onClose }) => {
  return (
    <ModalWrapper onClose={onClose} title="Публичная оферта">
      <h3>1. Общие положения</h3>
      <p>1.1. Данный документ является официальным предложением (публичной офертой) Индивидуального предпринимателя Радченко Якова Яковлевича (далее — «Исполнитель») и содержит все существенные условия предоставления услуг по обработке и генерации изображений с использованием программного обеспечения (нейросетей).<br/>
      1.2. В соответствии с пунктом 2 статьи 437 Гражданского Кодекса Российской Федерации (ГК РФ) в случае принятия изложенных ниже условий и оплаты услуг юридическое или физическое лицо, производящее акцепт этой оферты, становится «Заказчиком».</p>

      <h3>2. Предмет оферты</h3>
      <p>2.1. Исполнитель обязуется оказать Заказчику услуги по созданию цифрового контента (изображений) на основе предоставленных Заказчиком исходных материалов (фотографий) с использованием технологий искусственного интеллекта, а Заказчик обязуется оплатить эти услуги.<br/>
      2.2. Конкретный перечень услуг, их объем и стоимость определяются на основании информации, размещенной на сайте, или индивидуальных договоренностей в переписке.</p>

      <h3>3. Порядок оказания услуг</h3>
      <p>3.1. Заказчик оставляет заявку на сайте или связывается с Исполнителем через мессенджеры.<br/>
      3.2. Исполнитель приступает к выполнению работ после согласования технического задания и подтверждения оплаты.<br/>
      3.3. Услуга считается оказанной в момент передачи Заказчику сгенерированных изображений (ссылка на облачное хранилище или отправка файлов в мессенджер).</p>

      <h3>4. Стоимость и оплата</h3>
      <p>4.1. Стоимость услуг определяется в соответствии с действующими тарифами Исполнителя.<br/>
      4.2. Оплата производится в рублях РФ путем безналичного перевода.</p>

      <h3>5. Ответственность</h3>
      <p>5.1. Исполнитель не несет ответственности за субъективное восприятие Заказчиком художественной ценности сгенерированных изображений, если они соответствуют техническому заданию.<br/>
      5.2. Заказчик гарантирует, что обладает правами на использование передаваемых исходных материалов.</p>

      <h3>6. Реквизиты</h3>
      <p>ИП Радченко Яков Яковлевич<br/>
      ИНН: 490912773510<br/>
      ОГРН: 316774600440101<br/>
      Тел: +7 (916) 563-06-33<br/>
      Email: hello@etern8.tech</p>
    </ModalWrapper>
  );
};